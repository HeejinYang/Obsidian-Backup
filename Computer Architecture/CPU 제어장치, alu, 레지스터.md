## cpu의 ALU, 제어장치

alu는 피연산자, 제어신호를 받아들인다
신호에 따라 연산 한 후에 결과값, 플래그를 내보낸다
플래그는 연산결과에 대한 추가적인 정보

제어장치는 클럭신호, 명령어, 플래그, 제어신호를 받아들이고
cpu내부,외부에 제어신호를 보낸다

---

## 레지스터

프로그램 카운터에는 명령어를 가져올 메모리의 주소가 들어있다
메모리 주소 레지스터에는 메모리 주소가 들어간다 , 얘를 통해서 메모리에 접근함
메모리에서 가져온 값은 메모리 버퍼 레지스터에 들어감
메모리 버퍼 레지스터에 있는 값(명령어)가 명령어 레지스터에 들어감

<실행순서>
프로그램 카운터값이 메모리 주소 레지스터로 전달됨
메모리 주소레지스터의 주소를 주소버스를 통해접근, 제어신호와 함께 메모리로 전달된다
해당 메모리에서 값을 데이터 버스를 통해 가져와서 메모리 버퍼 레지스터에 넣는다
값을 가져왔으므로 프로그램 카운터는 1증가한다
메모리 버퍼 레지스터의 값(명령어)가 명령어 레지스터로 전달된다
명령어가 실행된다

이 과정이 반복됨

네가지 레지스터
- 프로그램 카운터
- 메모리 주소 레지스터
- 메모리 버퍼 레지스터
- 명령어 레지스터

+
- 범용 레지스터
- 플래그 레지스터
- 스택 포인터
- 베이스 레지스터

스택 포인터 -> 메모리의 스택영역의 최상단을 가리킴, 최상단의 메모리 주소를 갖는 레지스터
데이터가 남아있는 최상단을 가리킴

변위 주소 지정방식 = 오퍼랜드에 있는 값을 더해서 주소를 찾는 방식

원하는 데이터가 있는 주소를 찾는 방식 : 주소 지정 방식(addressing mode)
= 유효 주소에 접근하는 방식

---
## 명령어 사이클, 인터럽트

명령어 사이클(인출, 실행 사이클)

인터럽트 = cpu가 하던 행동을 멈추도록 방해하는것

동기 인터럽트(예외)
비동기 인터럽트(하드웨어 인터럽트)

<비동기 인터럽트 처리 과정>
명령어를 처리한후 인터럽트 플래그를 확인한다
인터럽트 요청이 왔으면 스택에 현재 레지스터의 정보를 백업을 한 후
인터럽트 벡터를 통해 인터럽스 서비스 루틴의 시작주소를 찾아 인터럽트 서비스 루틴을 실행한다
처리가 끝난 후 스택에서 정보를 가져와 계속 사이클을 실행한다
