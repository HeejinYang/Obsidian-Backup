
## 전송계층
전송계층이 하는일

1.데이터가 제대로 도착했는지 확인, 오류점검, 재전송 요청
다른계층은 데이터를 보내긴하지만 데이터가 손상,유실되었는지는 신경쓰지않고 보내기만한다

2.데이터의 목적지 애플리케이션을 식별

- 연결형 통신: 신뢰성/정확성을 목표 , TCP(Transmission Control Protocol) 사용
- 비연결형 통신: 효율성을 목표 , UDP(User Datagram Protocol 사용 ex)동영상


---

## TCP
TCP의 과정
TCP에서는 데이터 전송을 위해 '연결'해야한다
TCP헤더에 여러 정보가 들어있다
여기서 코드 비트의 SYN, ACK, FIN을 이용해서 연결확인과 종료를 한다

- 연결확립
3 way handshake 방식
코드비트에 정보를 넣어 패킷을 교환해서 연결을 확립한다
1.a가 syn으로 b에 연결 요청
2.연결 요청을 받은b가 a에게 ack와 syn을 1로 연결 응답과 연결 요청을 보낸다
3.a는 b에게 연결 확립 응답을 보낸다
세번 정보를 주고받음

- 연결종료
1.a가 b에게 fin 1 로 연결 종료 요청
2.b가 a에게 ack 1 로 응답 보냄
3.b가 a에게 fin 1로 연결 종료 요청
4.a가 b에게 ack 1로 응답 보냄

SYN: SYN은 "Synchronize"의 줄임말로, TCP 연결을 설정하는데 사용됩니다. 클라이언트가 서버에게 연결 요청을 보낼 때 이 플래그가 설정됩니다. 서버는 SYN을 받으면 클라이언트에게 수락할 준비가 되었음을 알리는 SYN-ACK 패킷을 보냅니다.

FIN: FIN은 "Finish"의 줄임말로, TCP 연결을 종료하는데 사용됩니다. 한 쪽이 다른 쪽에게 FIN을 보내면, 해당 쪽은 데이터 전송이 끝났음을 나타내며, 상대방은 ACK로 응답하고 자신도 FIN을 보내 연결을 종료합니다.

ACK: ACK는 "Acknowledgment"의 줄임말로, 데이터를 수신받았음을 확인하는데 사용됩니다. TCP는 신뢰성 있는 프로토콜로, 데이터를 전송한 후 상대방이 제대로 수신했는지 확인하기 위해 ACK를 사용합니다. ACK 플래그가 설정된 패킷은 데이터를 포함하지 않을 수도 있습니다.

---

## 포트번호

데이터의 목적지 애플리케이션을 식별할수있다
애플리케이션은 포트번호를 할당받는다

0~1023 : well known port
1025~65535 에서 랜덤으로 지정된다

|애플리케이션|포트번호|
|---|---|
|SSH|22|
|SMTP|25|
|DNS|53|
|HTTP|80|
|POP3|110|
|HTTPS|443|


---

## UDP
데이터를 효율적으로 전송하기 위한 프로토콜

udp헤더에 들은 정보가 tcp헤더보다 간단하다
출발지 포트번호, 목적지 포트번호, 길이, 체크섬 정보 들어있다

랜에 데이터를 전송하면 브로드 캐스트 방식으로 랜의 모든 컴퓨터에 전송된다

